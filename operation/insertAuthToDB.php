<?php
require_once "../DB/db.php";
global $conn;
$names = ["Ronald J. Fields","Anita Diamant","Barbara Hambly","Jennifer Weiner","Nigel Pennick","Alfred J. Church","Michael Halberstam","Rachel Roberts","V.L. Locey","Anton Szandor LaVey","Kenneth Anger","Bernard Knight","Carolyn Haines","Benjamin Hoff","Christopher Ross","Tom Wolfe","Don Piper","Cecil Murphey","Randy Alcorn","Jennifer L. Holm","Cynthia Rylant","Margot Hovley","Wayne Kinsey","Francoise Sagan","Stephen King","Edward Herrmann","Peter Maass","L.J. Smith","Anne Emmert","Christopher Michael McDonough","Richard E. Prior","Mark Jackson Stansbury","Mark Stansbury","Zabrina Murray","James Russell Lowell","Lisa Mills","Zhang Yun","David Blake","David J. Ashton","John Williams","Peter Cameron","Stefano Tummolini","mHmd`ly frwGy","Carrie Ann Ryan","Margaret Yorke","Nikki Faye","Jane Austen","Lindsey Schussman","Raina Palmatier","Larry Shles","Bradley L. Winch","Isaac Asimov","Scott Brick","Ernest Hemingway","Will Patton","Kit Tunstall","Kit Fawkes","Esra Bahadir Cesar","H. Kent Baker","Victor Ricciardi","Freddy Jackson Brown","Duncan Gillard","Steven C. Hayes","Paula Rabinowitz","Stacey Ballis","Jenika Snow","Elizabeth Guizzetti","Ira Severin","Sean M. Theriault","Queen Rex","Ian Botham","Margaret Doody","Rosalia Coci","Beppe Benvenuto","B. Batregzedmaa","Mandy Stanley","Robert Burleigh","Florence Dupre la Tour","Terence Conran","Roger Dubern","John McGowan","Hugh Johnson","Isser Woloch","Gregory S. Brown","ndr brhny mrnd","Jeremy Black","Claire Fay","Arun Maira","Melanie Cusick-Jones","Neville Astley","Praveen Gupta","Dipak Jain","Sally Green","Maya Cross","Robert Walser","Daniele Pantano","James Reidel","Reto Sorg","Agatha Christie","Emilia Fox","Beatrix Potter","Harry Deane Willmott","Joan Carney","Friedrich Nietzsche","drywsh ashwry","Sadegh Hedayat","Randall S. Davis","W.J. Burley","Shay Ray Stevens","Elaine Szewczyk","Duncan Rouleau","Joe Casey","Joe Kelly","Steven T. Seagle","Tracey Garvis-Graves","Serena Lauzi","M. Ageyev","Ed Brubaker","Spike Brown","Gerald L. Gutek","mHmd Th","John Langan","Judith Tarr","Jason Delgado","Chris Martin","Catherine McKenzie","Amy Raby","Lisa Clark O'Neill","Michel Faber","Leslie Gent","Heather Brewer","Kate Mosse","Kathleen Bryan","Thomas F. Monteleone","Byron Goines","Mei Bei Er","ehmyepye``r","esiiywefinghling","Chance Carter","Anton Chekhov","Wakoh Honna","Honna Wakou (Ben Ming wakou)","Bill Guggenheim","Judy Guggenheim","Rebecca Mead","Mike Evans","Katia Novet Saint-Lot","Dimitrea Tokunbo","InLoveWithARockStar","Jonathan Ashley","J.S. Wilder","Jerry Siegel","Joe Shuster","Andrew Grey","Giuseppe Badaracco","Beth Revis","Yuu Asami","Andres Vidal","Machado de Assis","`bdllh khwthry","Blake Charlton","Gunnar Kopperud","Oliver Sacks","Jesper Ersgard","Gregory L. Norris","Elise Desaulniers","Douglas Preston","Lincoln Child","Micky Livingston","'bw dhr lqlmwny","Feridun Zaimoglu","Jeff Mann","Julian Davis","Garth Ennis","Tomas Aira","Keith Burns","Matt Martin","Mike Wolfer","Steven Luna","Jeremy D. Brooks","Marion Dane Bauer","Stan Tekiela","Adam Rakunas","Simon Spurrier","Fernando Heinz","Rafael Ortiz","DigiKore Studios","Jaymes Reed","Jacob Appel","Elena Cantoni","'krm rD","Martin Cruz Smith","Jeon Geuk-Jin","Rebecca Podos","Cali","Andrea Tezumo","Joseph E. Persico","Cia Leah","N Gray","Mary Elsie Robertson","Piers Platt","Kahlil Gibran","jmyl jbr","Ralph Peduto","Gregory Gerard","Rue Volley","Patrick Ness","Merri Vik","A.-M. Helminen","Evelyn Waugh","Justin Kairo","Vipin Behari Goyal","Diane Davis White","Vincent VI Warren","Gail Feichtinger","Gary Waller","John DeSanto","Michel Bonnefoy","Dennis Milam Bensie","Aaron Council","Michael Petch","Edward Long","Kate Rudolph","Charles Reasoner"];
$ids = [];
foreach ($names as $name){
    if (!( $query = mysqli_prepare($conn, "INSERT INTO `authors` (name) 
				VALUES (?)") )){
        echo "Prepare failed: (" . $conn->errno . ") " . $conn->error . "<br>";
    }
    if (!( mysqli_stmt_bind_param($query, "s",$name) )){
        echo "Binding parameters failed: (" . $query->errno . ") " . $query->error . "<br>";
    }

    if(!( mysqli_stmt_execute($query) )){
        echo "Execute failed: (" . $query->errno . ") " . $query->error . "<br>";
    }
    $ids[$conn->insert_id] = $name;
}
echo json_encode($ids);